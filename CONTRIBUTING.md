# Contributing Guide

## Run MCP Inspector

The [MCP Inspector](https://github.com/modelcontextprotocol/inspector) is an official debug tool.

```shell
pnpm run dev
```

ref: https://modelcontextprotocol.io/docs/tools/inspector

You can set environment variables at startup using `.env.local`.

```shell
cat << EOS > .env.local
GAROON_BASE_URL=https://example.cybozu.com/g
GAROON_USERNAME=username
GAROON_PASSWORD=password
http_proxy=http://localhost:7890
https_proxy=http://localhost:7890
GAROON_PFX_FILE_PATH=absolute/path/to/pfx_file
GAROON_PFX_FILE_PASSWORD=pfx_password
GAROON_BASIC_AUTH_USERNAME=username
GAROON_BASIC_AUTH_PASSWORD=password
EOS
```

## Build

> [!WARNING]
> Please configure Git on your local machine as follows.
>
> ```shell
> git update-index --skip-worktree src/build-constants.ts
> ```
>
> This file is automatically generated by prebuild and should not be committed.

npm package

```shell
pnpm install
pnpm run build
```

Docker image

```shell
./scripts/build-docker.sh
```

MCPB

```shell
pnpm run build:mcpb
```

## Test

```shell
pnpm run test
```

## Lint

```shell
pnpm run lint
pnpm run fix
```

## License Check

```shell
pnpm run license:analyze
```

If you find a disallowed license in new dependencies you installed, review the terms and conditions.

The allowed licenses are listed in [`license-manager.config.cjs`](license-manager.config.cjs).

## Pull Request Label

Please label your pull request to support the release process.
This repository uses [release-drafter](https://github.com/release-drafter/release-drafter) to draft a next release.
The labels determine the next version following [semantic versioning](https://semver.org/).
In addition, merged pull requests are automatically listed in [release notes](https://github.com/garoon/garoon-mcp-server/releases) and categorized by the labels.

Refer to the [release-drafter settings](.github/release-drafter.yml) to determine the appropriate label.
